<html>
    <head>
        <link rel="shortcut icon" href="#">
          <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <script src="https://d3js.org/d3-dsv.v1.min.js"></script>
        <script src="https://d3js.org/d3-fetch.v1.min.js"></script>
    </head>
    <body>
        <img src="./Juvvo.png" style="width:200px; height: auto" />
        <div class="container-fluid"> 
            <div class="col-lg-12">

                <h2>Elbow Symptoms</h2>
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="row">
                            <label class="col-lg-2">Acute?</label>
                            <select class="col-lg-1" id="elbow-acute-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>

                        <div class="row">
                            <label class="col-lg-2">Pain at front of elbow while straight</label>
                            <select class="col-lg-1" id="elbow-front-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>

                        <div class="row">
                            <label class="col-lg-2">Tenderness inside elbow</label>
                            <select class="col-lg-1" id="elbow-tenderness-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>

                        <div class="row">
                            <label class="col-lg-2">Do you play a throwing sport?</label>
                            <select class="col-lg-1" id="elbow-throwing-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>

                        <div class="row">
                            <label class="col-lg-2">Bruising?</label>
                            <select class="col-lg-1" id="elbow-bruising-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>

                        <div class="row">
                            <label class="col-lg-2">Extreme Pain with obvious deformity</label>
                            <select class="col-lg-1" id="elbow-deformity-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>

                        <div class="row">
                            <label class="col-lg-2">Stiffness</label>
                            <select class="col-lg-1" id="elbow-stiffness-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>

                            <div class="row">
                            <label class="col-lg-2">Pain that radiates into wrist</label>
                            <select class="col-lg-1" id="elbow-radiating-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>

                            <div class="row">
                            <label class="col-lg-2">Trouble Gripping?</label>
                            <select class="col-lg-1" id="elbow-gripping-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div> 

                             <div class="row">
                            <label class="col-lg-2">Pain increases with activity but lessens with rest</label>
                            <select class="col-lg-1" id="elbow-activity-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>   
                        <input type="button" id="submit-symptoms" value="Submit"/>
                    </div>
                </div>

                <h2>Response</h2>
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div id="output"></div>
                    </div>
                </div>
            </div>        
        </div>
    </body>
    <script type="text/javascript">
        var elbow_symptoms_dict;
        d3.csv("./elbow_symptoms.csv").then(function(data) {
            elbow_symptoms_dict = data;
        });

        $("#submit-symptoms").on("click", function(){
            var lookUpKey = "";
            var eas = $("#elbow-acute-symptom").find(":selected").val();
            var efs = $("#elbow-front-symptom").find(":selected").val();
            var ets = $("#elbow-tenderness-symptom").find(":selected").val();
            var ethrs = $("#elbow-throwing-symptom").find(":selected").val();
            var ebs = $("#elbow-bruising-symptom").find(":selected").val();
            var eds = $("#elbow-deformity-symptom").find(":selected").val();
            var ess = $("#elbow-stiffness-symptom").find(":selected").val();
            var ers = $("#elbow-radiating-symptom").find(":selected").val();
            var egs = $("#elbow-gripping-symptom").find(":selected").val();
            var ascs = $("#elbow-activity-symptom").find(":selected").val();
            for(var i = 0; i < elbow_symptoms_dict.length; i++){
                if(elbow_symptoms_dict[i]["Acute"] == eas && elbow_symptoms_dict[i]["Pain at front of elbow while straight"] == efs && 
                    elbow_symptoms_dict[i]["Tenderness inside elbow"] == ets && elbow_symptoms_dict[i]["Do you play a throwing sport?"]
                    == ethrs && elbow_symptoms_dict[i]["Bruising?"] == ebs && elbow_symptoms_dict[i]["Extreme Pain with obvious deformity"] == eds 
                    && elbow_symptoms_dict[i]["Stiffness"] == ess 
                    && elbow_symptoms_dict[i]["Pain that radiates into wrist"] ==ers && elbow_symptoms_dict[i]["Trouble Gripping?"] == egs && elbow_symptoms_dict[i]["Pain increases with activity but lessens with rest"] == ascs){
                    console.log(elbow_symptoms_dict[i]["Output"]);
                    $("#output").text(elbow_symptoms_dict[i]["Output"]);
                }
            }

        });


    </script>
</html>