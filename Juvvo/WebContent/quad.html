<html>
    <head>
        <link rel="shortcut icon" href="#">
          <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <script src="https://d3js.org/d3-dsv.v1.min.js"></script>
        <script src="https://d3js.org/d3-fetch.v1.min.js"></script>
    </head>
    <body>
        <img src="./Juvvo.png" style="width:200px; height: auto" />
        <div class="container-fluid"> 
            <div class="col-lg-12">

                <h2>Quad Symptoms</h2>
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="row">
                            <label class="col-lg-2">Acute?</label>
                            <select class="col-lg-1" id="quad-acute-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>

                        <div class="row">
                            <label class="col-lg-2">Did you hear a popping or tearing sensation</label>
                            <select class="col-lg-1" id="quad-tearing-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>

                        <div class="row">
                            <label class="col-lg-2">Trouble Bearing weight</label>
                            <select class="col-lg-1" id="quad-weight-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>

                        <div class="row">
                            <label class="col-lg-2">Noticable muscle indentation above knee cap</label>
                            <select class="col-lg-1" id="quad-indentation-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>

                        <div class="row">
                            <label class="col-lg-2">Swelling/Brusing</label>
                            <select class="col-lg-1" id="quad-bruising-swelling-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>

                        <div class="row">
                            <label class="col-lg-2">Loss of Strength</label>
                            <select class="col-lg-1" id="quad-strength-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>
                        <input type="button" id="submit-symptoms" value="Submit"/>
                    </div>
                </div>
            </div>

                <h2>Response</h2>
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div id="output"></div>
                    </div>
                </div>
            </div>        
        </div>
    </body>
    <script type="text/javascript">
        var quad_symptoms_dict;
        d3.csv("./quad_symptoms.csv").then(function(data) {
            quad_symptoms_dict = data;
        });

        $("#submit-symptoms").on("click", function(){
            var lookUpKey = "";
            var qas = $("#quad-acute-symptom").find(":selected").val();
            var qts = $("#quad-tearing-symptom").find(":selected").val();
            var qws = $("#quad-weight-symptom").find(":selected").val();
            var qis = $("#quad-indentation-symptom").find(":selected").val();
            var qbss = $("#quad-bruising-swelling-symptom").find(":selected").val();
            var qss = $("#quad-strength-symptom").find(":selected").val();
            for(var i = 0; i < quad_symptoms_dict.length; i++){
                if(quad_symptoms_dict[i]["Acute"] == qas && quad_symptoms_dict[i]["Did you hear a popping or tearing sensation"] == qts && 
                    quad_symptoms_dict[i]["Trouble Bearing weight"] == qws && quad_symptoms_dict[i]["Noticable muscle indentation above knee cap"]
                    == qis && quad_symptoms_dict[i]["Swelling/Brusing"] == qbss && quad_symptoms_dict[i]["Loss of Strength?"] == sbgs){
                    console.log(quad_symptoms_dict[i]["Output"]);
                    $("#output").text(quad_symptoms_dict[i]["Output"]);
                }
            }

        });


    </script>
</html>