<html>
    <head>
        <link rel="shortcut icon" href="#">
          <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <script src="https://d3js.org/d3-dsv.v1.min.js"></script>
        <script src="https://d3js.org/d3-fetch.v1.min.js"></script>
    </head>
    <body>
        <img src="./Juvvo.png" style="width:200px; height: auto" />
        <div class="container-fluid"> 
            <div class="col-lg-12">

                <h2>Shoulder Symptoms</h2>
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="row">
                            <label class="col-lg-2">Acute?</label>
                            <select class="col-lg-1" id="shoulder-acute-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>

                        <div class="row">
                            <label class="col-lg-2">Pain on bony prominence of shoulder?</label>
                            <select class="col-lg-1" id="shoulder-bony-prominence-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>

                        <div class="row">
                            <label class="col-lg-2">Pain while moving across body?</label>
                            <select class="col-lg-1" id="shoulder-across-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>

                        <div class="row">
                            <label class="col-lg-2">Did you fall on your shoulder, or ram it against something?</label>
                            <select class="col-lg-1" id="shoulder-ram-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>

                        <div class="row">
                            <label class="col-lg-2">Bruising?</label>
                            <select class="col-lg-1" id="shoulder-bruising-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>

                        <div class="row">
                            <label class="col-lg-2">Buldge near shoulder?</label>
                            <select class="col-lg-1" id="shoulder-buldge-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>

                        <div class="row">
                            <label class="col-lg-2">Pain with overhead activities</label>
                            <select class="col-lg-1" id="shoulder-overhead-symptom">
                                <option value="1">Yes</option>
                                <option value="0">No</option>
                            </select>
                        </div>
                        <input type="button" id="submit-symptoms" value="Submit"/>
                    </div>
                </div>

                <h2>Response</h2>
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div id="output"></div>
                    </div>
                </div>
            </div>        
        </div>
    </body>
    <script type="text/javascript">
        var shoulder_symptoms_dict;
        d3.csv("./shoulder_symptoms.csv").then(function(data) {
            shoulder_symptoms_dict = data;
        });

        $("#submit-symptoms").on("click", function(){
            var lookUpKey = "";
            var sas = $("#shoulder-acute-symptom").find(":selected").val();
            var sbps = $("#shoulder-bony-prominence-symptom").find(":selected").val();
            var sacs = $("#shoulder-across-symptom").find(":selected").val();
            var srs = $("#shoulder-ram-symptom").find(":selected").val();
            var sbrs = $("#shoulder-bruising-symptom").find(":selected").val();
            var sbgs = $("#shoulder-buldge-symptom").find(":selected").val();
            var sos = $("#shoulder-overhead-symptom").find(":selected").val();
            for(var i = 0; i < shoulder_symptoms_dict.length; i++){
                if(shoulder_symptoms_dict[i]["Acute"] == sas && shoulder_symptoms_dict[i]["Pain on bony prominence of shoulder?"] == sbps && 
                    shoulder_symptoms_dict[i]["Pain while moving across body?"] == sacs && shoulder_symptoms_dict[i]["Did you fall on your shoulder, or ram it against something?"]
                    == srs && shoulder_symptoms_dict[i]["Bruising"] == sbrs && shoulder_symptoms_dict[i]["Buldge near shoulder?"] == sbgs 
                    && shoulder_symptoms_dict[i]["Pain with overhead activities"] == sos ){
                    console.log(shoulder_symptoms_dict[i]["Output"]);
                    $("#output").text(shoulder_symptoms_dict[i]["Output"]);
                }
            }

        });


    </script>
</html>